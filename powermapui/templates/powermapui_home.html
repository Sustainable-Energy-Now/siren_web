<!-- powermapui/templates/powermapui_home.html -->
{% extends 'powermapui_base.html' %}

{% block powermapui_content %}

<p>This is a placeholder for a web interface to the Siren Powermap module. The purpose of this interface is to explain 
    the data used by Powermap to model renewable energy generation in the South West Interconnected System (SWIS).  
    Currently to run the actual Powermap program requires installing the python application and setting up the input files required.
    Power Map takes as input weather and facilities data. Powermap uses the System Advisor Model (SAM) developed by the National Renewable Energy Laboratory (NREL).
    To use Powermap, begin by creating a Scenario.  This is a collection of Facilities of different technologies. Output from Powermap
    is used as input to the Powermatch module.  Currently output for the demand year of 2022 has been loaded into the database.
</p>

<!-- Leaflet.js Map -->
<div id="map" style="height: 600px; width: 100%;"></div>

<!-- Leaflet.js Library -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<script>
    // Initialize the map and set its view to South West of Western Australia
    var map = L.map('map').setView([-33.45, 121.25], 8);  // Coordinates for South West WA

    // Add OpenStreetMap tiles to the map
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Example of adding a marker for a facility (you can replace this with dynamic data later)
    L.marker([-33.45, 121.25]).addTo(map)
        .bindPopup('Example Facility Location')
        .openPopup();
</script>

{% endblock %}