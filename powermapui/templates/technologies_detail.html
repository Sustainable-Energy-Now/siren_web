<!-- technologies_detail.html -->
{% extends 'powermapui_base.html' %}
{% load static %}
{% load custom_filters %}
{% block powermapui_content %}
<head>
    <title>Generation and Storage Technologies</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
            color: #343a40;
        }
        .navbar {
            background-color: #007bff;
        }
        .navbar-brand {
            color: #fff;
        }
        .card {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            transition: 0.3s;
            border-radius: 10px;
            background-color: #fff;
        }
        .card:hover {
            box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="{% static 'sen_logo_2.png' %}" alt="SEN Logo" height="30">
                Generation and Storage Technologies
            </a>
        </div>
    </nav>
    <div class="container mt-4">
        <p>These are the technologies that are relevant to modelling the decarbonisation of the SWIS.</p>
        <div class="row">
            <div class="col-md-3">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Select Options</h5>
                        <form>
                            <div class="form-group">
                                <label for="demand_year">Load Year</label>
                                <select class="form-control" id="demand_year" name="demand_year">
                                    <option value="0" {% if demand_year == '0' %}selected{% endif %}>0</option>
                                    <option value="2023" {% if demand_year == '2023' %}selected{% endif %}>2023</option>
                                </select>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-9">
                {% for technology in technology_queryset %}
                <div class="card mb-3">
                    <div class="row no-gutters">
                        <div class="col-md-4">
                            {% if technology.image %}
                            <img src="https://sen.asn.au/wp-content/uploads/{{ technology.image }}" class="card-img" alt="{{ technology.caption }}">
                            {% else %}
                            <div class="card-img">
                                <p class="text-center">No image available</p>
                            </div>
                            {% endif %}
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <h5 class="card-title">{{ technology.technology_name }}</h5>
                                <p class="card-text">{{ technology.description }}</p>
                                <table class="table table-striped">
                                    <tbody>
                                        <tr>
                                            <th>Year</th>
                                            <td>{{ technology.year }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'year' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Renewable?</th>
                                            <td>{{ technology.renewable|yesno:"True,False" }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'renewable' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Dispatchable?</th>
                                            <td>{{ technology.dispatchable|yesno:"True,False" }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'dispatchable' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Merit Order</th>
                                            <td>{{ technology.merit_order }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'merit_order' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Capex</th>
                                            <td>{{ technology.capex }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'capex' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>FOM</th>
                                            <td>{{ technology.fom }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'fom' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                        <th>VOM</th>
                                            <td>{{ technology.vom }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'vom' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Lifetime</th>
                                            <td>{{ technology.lifetime }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'lifetime' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Discount Rate</th>
                                            <td>{{ technology.discount_rate }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'discount_rate' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Capacity</th>
                                            <td>{{ technology.capacity }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'capacity' }}</p>
                                            </td>
                                        </tr>
                                        
                                        
                                        capacity_max
                                        capacity_min
                                        <tr>
                                            <th>Multiplier</th>
                                            <td>{{ technology.mult }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'mult' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Emissions</th>
                                            <td>{{ technology.emissions }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'emissions' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>Initial</th>
                                            <td>{{ technology.initial }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'initial' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>lcoe</th>
                                            <td>{{ technology.lcoe }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'lcoe' }}</p>
                                            </td>
                                        </tr>
                                        <tr>
                                            <th>lcoe_cf</th>
                                            <td>{{ technology.lcoe_cf }}</td>
                                            <td>
                                                <p style="color:blue;">{{ attribute_explain|explain_attr:'lcoe_cf' }}</p>
                                            </td>
                                        </tr>
                                        {% with storage_attributes=technology.storageattributes_set.first %}
                                            {% if storage_attributes %}
                                                <tr>
                                                    <th>Discharge Loss</th>
                                                    <td>{{ storage_attributes.discharge_loss }}</td>
                                                </tr>
                                                <tr>
                                                    <th>Discharge Max</th>
                                                    <td>{{ storage_attributes.discharge_max }}</td>
                                                </tr>
                                                <!-- ... (other storage attributes fields) -->
                                            {% endif %}
                                        {% endwith %}
                                        {% with generator_attributes=technology.generatorattributes_set.first %}
                                            {% if generator_attributes %}
                                                <tr>
                                                    <th>Fuel</th>
                                                    <td>{{ generator_attributes.fuel }}</td>
                                                </tr>
                                                <!-- ... (other generator attributes fields) -->
                                            {% endif %}
                                        {% endwith %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</body>
{% endblock %}